import{r as c,a as j,o as ge,b as fe,c as we,d as m,e as $,f as e,F as ye,g as be,n as b,u as l,t as x,h as U,i as u,w as z,j as _,v as ne,k as f,l as ae,m as ie,p as G,q as Ce,s as ce,x as me,y as $e}from"./vendor-Cq6ywETo.js";const xe=(w,W)=>{const E=w.__vccOpts||w;for(const[h,X]of W)E[h]=X;return E},v=w=>(me("data-v-9c2284cd"),w=w(),$e(),w),De={class:"layout layout-width"},Te={class:"week-container"},Me={class:"list-container"},Se={class:"list-content"},Ee=["onMouseenter","onClick"],Ie=["onUpdate:modelValue"],Ae={class:"show-circle"},Be=["onMouseleave"],Ne={class:"list-hover-container"},Le=["onUpdate:modelValue"],Ve=["contenteditable","onInput"],Fe={class:"show-circle"},Re=["onClick"],Ue={class:"handle"},ze={style:{"flex-grow":"1"},class:"here draggable-item"},We={class:"new-todo-area"},Xe=["onBlur"],Ye=["onClick"],Oe=v(()=>e("svg",{width:"16",height:"16",viewBox:"0 0 24 24","xfill-rule":"evenodd","clip-rule":"evenodd"},[e("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z",class:"plus-path"})],-1)),qe=v(()=>e("span",null," Add Task",-1)),He=[Oe,qe],Ke={class:"week-goals"},Pe={class:"weekly-goals-con"},je={class:"week-con"},Ge=v(()=>e("h2",null," Weekly Goals ",-1)),Je={class:"week-text"},Qe={class:"list-container"},Ze={class:"list-content"},et=["onMouseenter","onClick"],tt=["onMouseleave"],st={class:"list-hover-container"},ot=["contenteditable","onInput"],lt=["onClick"],nt={class:"handle"},at={style:{"flex-grow":"1"},class:"here draggable-item"},it={class:"new-todo-area"},ct=v(()=>e("svg",{width:"16",height:"16",viewBox:"0 0 24 24","xfill-rule":"evenodd","clip-rule":"evenodd"},[e("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z",class:"plus-path"})],-1)),dt=v(()=>e("span",null," Add Goals",-1)),rt=[ct,dt],ut=v(()=>e("p",null,"Drag to move",-1)),vt=v(()=>e("p",null,"Click to open menu",-1)),pt=[ut,vt],_t=v(()=>e("div",null,"Delete",-1)),ht=v(()=>e("div",null,"Duplicate",-1)),kt={key:0,class:"priority"},gt={class:"priority-con"},ft=v(()=>e("span",null,"Low",-1)),wt=v(()=>e("span",null,"Medium",-1)),yt=v(()=>e("span",null,"High",-1)),bt=v(()=>e("span",null,"None",-1)),Ct={__name:"WeekTodo",props:["weekTasks","goalsTask"],emits:["addTask","delTask","copyTask","changePri"],setup(w,{emit:W}){const E=w,h=W;let X=E.weekTasks,de=E.goalsTask,J=c(null),k=c(null),I=c(!0),D=c(null),A=c(null),Y=c([]),O=c([]),q=c(null),d=c(!1),Q=c(null),C=c(!1),B=c(!1),N=c(!1),L=c(!0),y=c([]),V=c(null);c(!1);let T=j({top:"0px",left:"0px"}),g=j({week:null,id:null}),H=j({left:"100%",transform:"translateX(25px)"});const re=()=>{B.value=!0};let M=!1;const F=(s,t)=>{switch(t){case 1:K.value[s].addEventListener("focus",()=>{M=!0}),K.value[s].addEventListener("blur",()=>{M=!1}),!M&&!B.value&&!d.value&&(k.value===s?k.value=null:k.value=s),B.value=!1,C.value=!1;break;case 2:P.value[s].addEventListener("focus",()=>{M=!0}),P.value[s].addEventListener("blur",()=>{M=!1}),!M&&!B.value&&!d.value&&(k.value===s?k.value=null:k.value=s),B.value=!1,C.value=!1;break}},Z=s=>{F(s)},ee=s=>{switch(s){case"swNew_input2":A.value=!A.value,ce(()=>{O.value&&O.value.focus()});break;default:D.value==s?D.value=null:D.value=s,ce(()=>{Y.value[s]&&Y.value[s].focus()});break}},te=(s,t)=>{let a;switch(t){case"tasks":a=event.target.value.trim(),a&&h("addTask",a,s,t),D.value=null;break;case"goals":a=event.target.value.trim(),a&&h("addTask",a,"",t),A.value=null;break}},ue=()=>{switch(q.value){case"tasks":h("delTask",g),d.value=!d.value;break;case"goals":h("delTask",g),d.value=!d.value;break}},ve=()=>{switch(q.value){case"tasks":h("copyTask",g),d.value=!d.value;break;case"goals":h("copyTask",g),d.value=!d.value;break}},pe=s=>{I.value=!I.value},_e=s=>{I.value=!I.value},se=s=>{s.task=event.target.innerText},oe=(s,t,a)=>{q.value=a,g.id=s,g.week=t,g.target=a;const n=event.target.getBoundingClientRect();T.top=`${n.bottom+window.scrollY+3}px`,T.left=`${n.left+window.scrollX}px`,H.left=t==="Friday"?"-100%":"100%",H.transform=t==="Friday"?"translateX(-102px)":"translateX(25px)",d.value=!d.value,C.value=!1,N.value=!N.value,L.value=!L.value},S=s=>{switch(s){case"close":C.value=!1;break;default:if(d.value)C.value=!1;else{const t=event.target.getBoundingClientRect();T.top=`${t.bottom+window.scrollY+3}px`,T.left=`${t.left+window.scrollX}px`,C.value=!0}}},he=s=>{let t=document.querySelectorAll(".list-icon-group"),a=document.querySelectorAll(".list-hover-content");const n=Q.value,r=Array.from(t).some(o=>o.contains(s.target)),i=Array.from(a).some(o=>o.contains(s.target));!n.contains(s.target)&&!r&&!i&&(d.value=!1,k.value=null,L.value=!0,N.value=!1)},ke=()=>{const s=new Date,t=s.getDay(),a=t===0?-6:1-t,n=new Date(s);n.setDate(s.getDate()+a);const r=[];for(let i=0;i<7;i++){let o=new Date;o.setDate(n.getDate()+i);const le=`${o.getFullYear()}/${String(o.getMonth()+1).padStart(2,"0")}/${String(o.getDate()).padStart(2,"0")}`;r.push(le)}return r},R=s=>{h("changePri",g,s),d.value=!d.value};ge(()=>{document.addEventListener("mousedown",he),y.value=ke();let s=new Date;V.value=`${s.getFullYear()}/${String(s.getMonth()+1).padStart(2,"0")}/${String(s.getDate()).padStart(2,"0")}`}),fe(()=>{});let K=c([]),P=c([]);return(s,t)=>{const a=we("font-awesome-icon");return m(),$("div",De,[e("div",Te,[(m(!0),$(ye,null,be(l(X),(n,r,i)=>(m(),$("div",{key:r,class:"day-container"},[e("div",null,[e("div",{class:b(["week-con",{current_date_con:l(V)==l(y)[i]}])},[e("h2",null,x(r),1),e("span",{class:b(["week-text",{current_date:l(V)==l(y)[i]}])},x(l(y)[i]),3),l(y)[i]===l(V)?(m(),$("span",{key:0,class:b({current_date:l(V)==l(y)[i]}),style:{"font-size":"14px"}}," (Today)",2)):U("",!0)],2),e("ul",null,[u(l(ie),{list:n,group:"tasks",animation:"300",onStart:pe,onEnd:_e,"item-key":"id",move:re,class:"drag-container",tag:"ul","ghost-class":"ghost","drag-class":"drag",handle:".handle",disabled:l(N)},{item:z(({element:o,index:le})=>[e("li",Me,[e("div",Se,[_(e("div",{onMouseenter:p=>F(o.id,1),onClick:p=>Z(o.id)},[_(e("input",{type:"checkbox","onUpdate:modelValue":p=>o.isChecked=p},null,8,Ie),[[ne,o.isChecked]]),e("span",{class:b({task_finish:o.isChecked})},x(o.task),3),e("div",Ae,[u(a,{icon:["fas","circle"],class:b({low_c:o.priority=="low",medium_c:o.priority=="medium",high_c:o.priority=="high",none_c:o.priority==""})},null,8,["class"])])],40,Ee),[[f,l(J)!=o.id]])]),_(e("div",{class:"list-hover-content",onMouseleave:p=>F(o.id,1)},[e("div",Ne,[e("div",null,[_(e("input",{type:"checkbox","onUpdate:modelValue":p=>o.isChecked=p},null,8,Le),[[ne,o.isChecked]]),e("div",{contenteditable:l(L),onInput:p=>se(o),ref_for:!0,ref:p=>l(K)[o.id]=p,class:b({task_finish:o.isChecked})},x(o.task),43,Ve)]),e("div",Fe,[u(a,{icon:["fas","circle"],class:b({low_c:o.priority=="low",medium_c:o.priority=="medium",high_c:o.priority=="high",none_c:o.priority==""})},null,8,["class"])]),e("div",{class:"list-icon-group",onClick:p=>oe(o.id,r,"tasks"),onMouseenter:S,onMousedown:t[0]||(t[0]=p=>S("close")),onMouseleave:t[1]||(t[1]=p=>S("close"))},[e("span",Ue,[u(a,{icon:["fas","grip-vertical"]})])],40,Re)])],40,Be),[[f,l(k)==o.id]])])]),footer:z(()=>[_(e("div",ze,[e("div",We,[l(D)==r?(m(),$("input",{key:0,type:"text",class:"new-todo-input",placeholder:"set a new task",style:{width:"max-content"},ref_for:!0,ref:o=>l(Y)[r]=o,onBlur:o=>te(r,"tasks"),onKeyup:t[2]||(t[2]=ae(o=>o.target.blur(),["enter"]))},null,40,Xe)):U("",!0),_(e("button",{onClick:o=>ee(r)},He,8,Ye),[[f,l(D)!=r]])])],512),[[f,l(I)]])]),_:2},1032,["list","disabled"])])])]))),128)),e("div",Ke,[e("div",Pe,[e("div",je,[Ge,e("span",Je,x(l(y)[0]+" ~ "+l(y).at(-1)),1)]),e("ul",null,[u(l(ie),{list:l(de),group:"goals",animation:"300",onStart:t[8]||(t[8]=()=>{}),onEnd:t[9]||(t[9]=()=>{}),"item-key":"id",class:"drag-container",tag:"ul","ghost-class":"ghost","drag-class":"drag",handle:".handle",disabled:l(N)},{item:z(({element:n,index:r})=>[e("li",Qe,[e("div",Ze,[_(e("div",{onMouseenter:i=>F(n.id,2),onClick:i=>Z(n.id)},[e("span",null,x(r+1+". "+n.task),1)],40,et),[[f,l(J)!=n.id]])]),_(e("div",{class:"list-hover-content",onMouseleave:i=>F(n.id,2)},[e("div",st,[e("div",null,[e("div",{contenteditable:l(L),onInput:i=>se(n),ref:i=>l(P)[n.id]=i,class:b({task_finish:n.isChecked})},x(n.task),43,ot)]),e("div",{class:"list-icon-group",onClick:i=>oe(n.id,"","goals"),onMouseenter:S,onMousedown:t[3]||(t[3]=i=>S("close")),onMouseleave:t[4]||(t[4]=i=>S("close"))},[e("span",nt,[u(a,{icon:["fas","grip-vertical"]})])],40,lt)])],40,tt),[[f,l(k)==n.id]])])]),footer:z(()=>[e("div",at,[e("div",it,[l(A)?(m(),$("input",{key:0,type:"text",class:"new-todo-input",placeholder:"set a new weekly goal",style:{width:"max-content"},ref_key:"new_input2",ref:O,onBlur:t[5]||(t[5]=n=>te("","goals")),onKeyup:t[6]||(t[6]=ae(n=>n.target.blur(),["enter"]))},null,544)):U("",!0),_(e("button",{onClick:t[7]||(t[7]=n=>ee("swNew_input2"))},rt,512),[[f,!l(A)]])])])]),_:1},8,["list","disabled"])])])])]),_(e("div",{class:"tooltip",style:G(l(T))},pt,4),[[f,l(C)]]),_(e("div",{class:"popover",ref_key:"popup",ref:Q,style:G(l(T))},[e("div",{class:"delete",onClick:ue},[u(a,{icon:["fas","trash-can"]}),_t]),e("div",{class:"copy",onClick:ve},[u(a,{icon:["fas","copy"]}),ht]),l(g).target!="goals"?(m(),$("div",kt,[u(a,{icon:["fas","fire"]}),e("div",gt,[Ce(" Priority "),e("div",{class:"priority-child-con",style:G(l(H))},[e("div",{onClick:t[10]||(t[10]=n=>R("low"))},[e("div",null,[u(a,{icon:["fas","circle"],class:"low_c"})]),ft]),e("div",{onClick:t[11]||(t[11]=n=>R("medium"))},[e("div",null,[u(a,{icon:["fas","circle"],class:"medium_c"})]),wt]),e("div",{onClick:t[12]||(t[12]=n=>R("high"))},[e("div",null,[u(a,{icon:["fas","circle"],class:"high_c"})]),yt]),e("div",{onClick:t[13]||(t[13]=n=>R("none"))},[e("div",null,[u(a,{icon:["far","circle"],class:"default_c"})]),bt])],4)]),u(a,{icon:["fas","chevron-right"],class:"cr"})])):U("",!0)],4),[[f,l(d)]])])}}},$t=xe(Ct,[["__scopeId","data-v-9c2284cd"]]);export{$t as W};
